#!/usr/bin/env bash

# Retrieves all DNS Record types for domain
#
# $ nsl foo.com

set -o errexit
set -o errtrace
set -o pipefail

query=""
# all record types
for type in {A,AAAA,ALIAS,CNAME,MX,NS,PTR,SOA,SRV,TXT,DNSKEY,DS,NSEC,NSEC3,NSEC3PARAM,RRSIG,AFSDB,ATMA,CAA,CERT,DHCID,DNAME,HINFO,ISDN,LOC,MB,MG,MINFO,MR,NAPTR,NSAP,RP,RT,TLSA,X25};
do
	query="$query $type $1" 
done
# only print resolved IPs, hostnames, and signatures
dig +noall +short +noshort +answer $query 2>/dev/null

