#!/usr/bin/env bash

source "${DOTFILE_BASH_DIR}/vendor/git-prompt.sh"

# Prints out number of background and suspended jobs
jobscount() {
  local stopped=$(jobs -sp | wc -l | trim)
  local running=$(jobs -rp | wc -l | trim)
  ((running+stopped)) && echo -n "(${running}r/${stopped}s) "
}

# Nuke shell history and force exit (prevents memory from repopulating)
# https://askubuntu.com/questions/191999/how-to-clear-bash-history-completely
nuke_history() {
  cat /dev/null > ~/.bash_history && history -c && exit
}

# Tims string
trim() {
  awk '{$1=$1};1'
}

# Creates a new bash scaffold script
n-bash() {
  cp "${DOTFILE_DIR}/scaffold/main.bash" "$@" && chmod +x "$@"
}

# Scaffold Makefile
n-makefile() {
  cp "${DOTFILE_DIR}/scaffold/Makefile.help" "Makefile"
}

# Load nvm
l-nvm() {
  [[ -s "$NVM_DIR/nvm.sh" ]] && source "$NVM_DIR/nvm.sh"
  [[ -s "$NVM_DIR/bash_completion" ]] && source "$NVM_DIR/bash_completion"
}

# Load rvm
l-rvm() {
  [[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"
}

